<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pt-br">
<head>
    <meta charset="UTF-8"/>
    <title>SoundVinyl — Home</title>
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
    />
</head>
<body class="p-4">
<h1>SoundVinyl</h1>
<form method="get" th:action="@{/}">
    <input
            class="form-control mb-4"
            name="q"
            th:value="${q}"
            placeholder="Buscar por álbum ou artista"
    />
</form>
<div class="row" th:if="${albums.size() > 0}">
    <div
            class="col-12 col-md-6 col-lg-4 mb-3"
            th:each="a : ${albums}"
    >
        <div class="card h-100">
            <img
                    th:src="${a.coverUrl}"
                    class="card-img-top"
                    alt="Capa do álbum"
            />

            <div class="card-body">
                <h5 class="card-title" th:text="${a.title}">
                    Álbum
                </h5>

                <p class="card-text">
                    <span th:text="${a.artist.name}">Artista</span>
                    • <span th:text="${a.releaseYear}">Ano</span>
                    • ★ <span th:text="${a.ratingAvg}">0.0</span>
                    (<span th:text="${a.ratingCount}">0</span>)
                </p>

                <a
                        th:href="@{|/album/${a.id}|}"
                        class="btn btn-primary"
                >
                    Detalhes
                </a>
            </div>
        </div>
    </div>
</div>

<p th:if="${albums.size() == 0}">
    Nenhum álbum encontrado.
</p>

</body>
</html>
