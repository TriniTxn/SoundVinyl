<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pt-br">
<head>
    <meta charset="UTF-8"/>
    <title>SoundVinyl — Home</title>

    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
    />
</head>

<body class="container py-4">

<h1 class="mb-4">SoundVinyl</h1>

<form method="get" th:action="@{/}" class="mb-4">
    <input
            class="form-control"
            name="q"
            th:value="${q}"
            placeholder="Buscar por álbum ou artista"
    />
</form>

<div class="row g-3" th:if="${albums.size() > 0}">
    <div
            class="col-6 col-md-4 col-lg-3"
            th:each="a : ${albums}"
    >
        <div class="card h-100 shadow-sm">

            <a th:href="@{|/album/${a.id}|}">
                <img
                        th:src="${a.coverUrl}"
                        class="card-img-top"
                        alt="Capa do álbum"
                />
            </a>

            <div class="card-body p-2">
                <h6 class="card-title mb-1" th:text="${a.title}">
                    Álbum
                </h6>

                <div class="small text-muted">
                    <span th:text="${a.artist.name}">Artista</span>
                    • <span th:text="${a.releaseYear}">Ano</span>
                </div>

                <div class="small mt-1">
                    ★ <strong th:text="${a.ratingAvg}">0.0</strong>
                    <span class="text-muted">
                        (<span th:text="${a.ratingCount}">0</span>)
                    </span>
                </div>
            </div>
        </div>
    </div>
</div>

<p class="text-muted" th:if="${albums.size() == 0}">
    Album not found.
</p>

</body>
</html>
